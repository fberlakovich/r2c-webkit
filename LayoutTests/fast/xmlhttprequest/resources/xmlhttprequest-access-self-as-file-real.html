<!DOCTYPE html>
<html>
<head>
<script>
if (window.testRunner)
    testRunner.waitUntilDone();

function log(message)
{
    var console = document.getElementById('console');
    console.appendChild(document.createTextNode(message));
    console.appendChild(document.createElement('br'));
}

function runTest() {
    var xhr = new XMLHttpRequest();
    try {
        xhr.open("GET", "", false);
        xhr.send("");
    } catch (e) {
        log("Exception: " + e.message);
    }

    log("Response length: " + xhr.responseText.length);
    if (xhr.responseText == "")
        log('PASSED: Access was not permitted.');
    else
        log('FAILED: We should not have gotten a response.');

    if (window.testRunner)
        testRunner.notifyDone();
}
</script>
</head>
<body onload="runTest()">
    <p> We're checking we can't read the current file. </p>
    <div id="console"/>
</body>
</html>