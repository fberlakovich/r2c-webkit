2018-10-03  Rob Buis  <rbuis@igalia.com>

        Import WPT mimesniff resources
        https://bugs.webkit.org/show_bug.cgi?id=190074

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * web-platform-tests/mimesniff/META.yml: Added.
        * web-platform-tests/mimesniff/README.md: Added.
        * web-platform-tests/mimesniff/mime-types/README.md: Added.
        * web-platform-tests/mimesniff/mime-types/charset-parameter.window-expected.txt: Added.
        * web-platform-tests/mimesniff/mime-types/charset-parameter.window.html: Added.
        * web-platform-tests/mimesniff/mime-types/charset-parameter.window.js: Added.
        (promise_test):
        (isByteCompatible):
        (encodeForURL):
        (runTests):
        * web-platform-tests/mimesniff/mime-types/parsing.any-expected.txt: Added.
        * web-platform-tests/mimesniff/mime-types/parsing.any.html: Added.
        * web-platform-tests/mimesniff/mime-types/parsing.any.js: Added.
        (promise_test):
        (isByteCompatible):
        (runTests):
        * web-platform-tests/mimesniff/mime-types/parsing.any.worker-expected.txt: Added.
        * web-platform-tests/mimesniff/mime-types/parsing.any.worker.html: Added.
        * web-platform-tests/mimesniff/mime-types/resources/generated-mime-types.json: Added.
        * web-platform-tests/mimesniff/mime-types/resources/generated-mime-types.py: Added.
        (isHTTPTokenCodePoint):
        (isHTTPQuotedStringTokenCodePoint):
        * web-platform-tests/mimesniff/mime-types/resources/mime-charset.py: Added.
        (main):
        * web-platform-tests/mimesniff/mime-types/resources/mime-types.json: Added.
        * web-platform-tests/mimesniff/mime-types/resources/w3c-import.log: Added.
        * web-platform-tests/mimesniff/mime-types/w3c-import.log: Added.
        * web-platform-tests/mimesniff/w3c-import.log: Added.
        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        MessageEvent.ports should return the same object
        https://bugs.webkit.org/show_bug.cgi?id=190151

        Reviewed by Darin Adler.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/html/webappapis/scripting/events/messageevent-constructor.https-expected.txt:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        radio / checkbox inputs should fire "click, input, change" events in order when clicked
        https://bugs.webkit.org/show_bug.cgi?id=190223

        Reviewed by Ryosuke Niwa.

        Rebaseline a few WPT tests that are now passing. I have verified that those are passing in Gecko and Blink
        as well.

        * web-platform-tests/html/semantics/forms/the-input-element/checkbox-click-events-expected.txt:
        * web-platform-tests/html/semantics/forms/the-input-element/checkbox-expected.txt:
        * web-platform-tests/html/semantics/forms/the-input-element/radio-expected.txt:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        fieldset.elements should return an HTMLCollection instead of an HTMLFormControlsCollection
        https://bugs.webkit.org/show_bug.cgi?id=190218

        Reviewed by Alex Christensen.

        Rebaseline existing WPT test now that it is passing.

        * web-platform-tests/html/semantics/forms/the-fieldset-element/HTMLFieldSetElement-expected.txt:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        Refresh imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh
        https://bugs.webkit.org/show_bug.cgi?id=190212

        Reviewed by Youenn Fablet.

        Refresh imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh
        from upstream f15449622a76d0.

        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/parsing-expected.txt:
        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/parsing.html:
        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/remove-from-document-expected.txt:
        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/support/refresh.sub.html: Added.
        * web-platform-tests/html/semantics/document-metadata/the-meta-element/pragma-directives/attr-meta-http-equiv-refresh/support/w3c-import.log:

2018-10-02  Chris Dumez  <cdumez@apple.com>

        Image.__proto__ should be Function.prototype, not HTMLElement.prototype
        https://bugs.webkit.org/show_bug.cgi?id=190216

        Reviewed by Alex Christensen.

        Rebaseline existing WPT test now that it is passing.

        * web-platform-tests/html/semantics/embedded-content/the-img-element/Image-constructor-expected.txt:

2018-10-01  Simon Pieters  <zcorpan@gmail.com>

        <form> in quirks mode should have margin-block-end: 1em
        https://bugs.webkit.org/show_bug.cgi?id=157788

        Reviewed by Simon Fraser.

        * web-platform-tests/html/rendering/non-replaced-elements/flow-content-0/form-margin-quirk.html: Added.
        * web-platform-tests/html/rendering/non-replaced-elements/flow-content-0/form-margin-quirk-expected.txt: Added.

2018-10-01  Rob Buis  <rbuis@igalia.com>

        Align XMLHttpRequest's overrideMimeType() with the standard
        https://bugs.webkit.org/show_bug.cgi?id=169276

        Reviewed by Chris Dumez.

        * web-platform-tests/xhr/overridemimetype-invalid-mime-type-expected.txt:

2018-10-01  Chris Dumez  <cdumez@apple.com>

        Make crossOriginObject.then undefined for promises
        https://bugs.webkit.org/show_bug.cgi?id=190094

        Reviewed by Darin Adler.

        Rebaseline WPT test now that more checks are passing.

        * web-platform-tests/html/browsers/origin/cross-origin-objects/cross-origin-objects-expected.txt:

2018-09-30  Walker Henderson  <wjahenderson@gmail.com>

        AudioNode.connect should return passed destination node
        https://bugs.webkit.org/show_bug.cgi?id=188834

        Reviewed by Eric Carlson.

        * web-platform-tests/webaudio/the-audio-api/the-audionode-interface/audionode-connect-return-value-expected.txt:

2018-09-29  Oriol Brufau  <obrufau@igalia.com>

        [css-grid] Properly align items next to collapsed tracks with gutters
        https://bugs.webkit.org/show_bug.cgi?id=190089

        Reviewed by Manuel Rego Casasnovas.

        Import grid-gutters-013.html and reference from WPT.

        Test: imported/w3c/web-platform-tests/css/css-grid/alignment/grid-gutters-013.html

        * web-platform-tests/css/css-grid/alignment/grid-gutters-013-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/grid-gutters-013.html: Added.

2018-09-28  Chris Dumez  <cdumez@apple.com>

        The return value of an OnBeforeUnloadEventHandler should always be coerced into a DOMString
        https://bugs.webkit.org/show_bug.cgi?id=190090

        Reviewed by Ryosuke Niwa.

        Rebaseline WPT test now that one more check is passing.

        * web-platform-tests/html/browsers/browsing-the-web/unloading-documents/beforeunload-canceling-expected.txt:

2018-09-28  Chris Dumez  <cdumez@apple.com>

        document.open() should throw errors for cross-origin calls
        https://bugs.webkit.org/show_bug.cgi?id=189371
        <rdar://problem/44282700>

        Reviewed by Youenn Fablet.

        Rebaseline existing WPT tests now that more checks are passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-origin.sub.window-expected.txt:
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-same-origin-domain.sub.window-expected.txt:

2018-09-27  Andy Estes  <aestes@apple.com>

        [Payment Request] Update web platform tests
        https://bugs.webkit.org/show_bug.cgi?id=190049

        Reviewed by Youenn Fablet.

        Updated web-platform-tests/payment-request/ to tip-of-tree from web-platform-tests.

        * web-platform-tests/payment-request/MerchantValidationEvent/complete-method.https-expected.txt: Added.
        * web-platform-tests/payment-request/MerchantValidationEvent/complete-method.https.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/payment-request/MerchantValidationEvent/complete-method-manual.https.html.
        * web-platform-tests/payment-request/MerchantValidationEvent/constructor.https-expected.txt:
        * web-platform-tests/payment-request/MerchantValidationEvent/constructor.https.html:
        * web-platform-tests/payment-request/MerchantValidationEvent/w3c-import.log:
        * web-platform-tests/payment-request/PaymentAddress/attributes-and-toJSON-method-manual.https.html:
        * web-platform-tests/payment-request/PaymentMethodChangeEvent/methodDetails-attribute.https-expected.txt:
        * web-platform-tests/payment-request/PaymentMethodChangeEvent/methodDetails-attribute.https.html:
        * web-platform-tests/payment-request/PaymentMethodChangeEvent/methodName-attribute.https-expected.txt:
        * web-platform-tests/payment-request/PaymentMethodChangeEvent/methodName-attribute.https.html:
        * web-platform-tests/payment-request/PaymentValidationErrors/retry-shows-shippingAddress-member-manual.https.html:
        * web-platform-tests/payment-request/historical.https-expected.txt:
        * web-platform-tests/payment-request/historical.https.html:
        * web-platform-tests/payment-request/idlharness.https.window.js:
        * web-platform-tests/payment-request/payment-response/onpayerdetailchange-attribute-manual.https.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/payment-request/payment-response/onpayerdetailchange-attribute.manual.https.html.
        * web-platform-tests/payment-request/payment-response/w3c-import.log:

2018-09-27  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed, rolling out r236557.

        Really roll out r236557 this time because it breaks internal
        builds.

        Reverted changeset:

        "Add VP8 support to WebRTC"
        https://bugs.webkit.org/show_bug.cgi?id=189976
        https://trac.webkit.org/changeset/236557

2018-09-27  Chris Dumez  <cdumez@apple.com>

        Fragment should be stripped from document URL during document.open() URL propagation
        https://bugs.webkit.org/show_bug.cgi?id=189374
        <rdar://problem/44282736>

        Reviewed by Alex Christensen.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url-fragment.window-expected.txt:

2018-09-27  Youenn Fablet  <youenn@apple.com>

        Add VP8 support to WebRTC
        https://bugs.webkit.org/show_bug.cgi?id=189976

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-addIceCandidate-expected.txt:

2018-09-27  Chris Dumez  <cdumez@apple.com>

        document.open() should not propagate URLs to non-fully active documents
        https://bugs.webkit.org/show_bug.cgi?id=189375
        <rdar://problem/44282755>

        Reviewed by Youenn Fablet.

        Rebaseline WPT test now that more checks are passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window-expected.txt:

2018-09-27  Antoine Quint  <graouts@apple.com>

        [Web Animations] Turn Web Animations with CSS integration on
        https://bugs.webkit.org/show_bug.cgi?id=184819
        <rdar://problem/39597337>

        Reviewed by Dean Jackson.

        * web-platform-tests/css-timing-1/frames-timing-functions-output.html:
        * web-platform-tests/css/css-logical/animation-003.tentative.html:
        * web-platform-tests/css/css-scoping/keyframes-001.html:
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-context.html:
        * web-platform-tests/web-animations/interfaces/Animatable/animate.html:
        * web-platform-tests/web-animations/timing-model/animations/current-time.html:

2018-09-26  YUHAN WU  <yuhan_wu@apple.com>

        Video track clone cannot preserve original property
        https://bugs.webkit.org/show_bug.cgi?id=189872
        <rdar://problem/44706579>

        Reviewed by Youenn Fablet.

        * web-platform-tests/mst-content-hint/MediaStreamTrack-contentHint-expected.txt:

2018-09-26  Alex Christensen  <achristensen@webkit.org>

        Unreviewed, rolling out r236524.

        Broke API tests

        Reverted changeset:

        "URLWithUserTypedString should return nil for URLs deemed to
        be invalid by WebCore::URL"
        https://bugs.webkit.org/show_bug.cgi?id=189979
        https://trac.webkit.org/changeset/236524

2018-09-26  Chris Dumez  <cdumez@apple.com>

        Ignore-opens-during-unload counter of a parent should apply to its children during beforeunload event
        https://bugs.webkit.org/show_bug.cgi?id=189376
        <rdar://problem/44282754>

        Reviewed by Ryosuke Niwa.

        Rebaseline existing test now that one more check is passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/ignore-opens-during-unload.window-expected.txt:

2018-09-25  YUHAN WU  <yuhan_wu@apple.com>

        Implement MediaStreamTrack Content Hints
        https://bugs.webkit.org/show_bug.cgi?id=189262
        <rdar://problem/44101773>

        Reviewed by Youenn Fablet.

        * web-platform-tests/mst-content-hint/MediaStreamTrack-contentHint-expected.txt:

2018-09-25  YUHAN WU  <yuhan_wu@apple.com>

        Import WPT content hint tests
        https://bugs.webkit.org/show_bug.cgi?id=189854

        Reviewed by Youenn Fablet.

        * web-platform-tests/mst-content-hint/idlharness.window-expected.txt: Added.

2018-09-24  Simon Fraser  <simon.fraser@apple.com>

        Remove filterRes parameter from SVG filters
        https://bugs.webkit.org/show_bug.cgi?id=129565
        <rdar://problem/44714340>

        Reviewed by Dean Jackson.
        
        Remove support for the "filterRes" attribute on SVG filters. It's marked as
        deprecated in https://drafts.fxtf.org/filter-effects/#element-attrdef-filter-filterres
        and no longer supported by Chrome or Firefox.

        * web-platform-tests/html/syntax/parsing/html5lib_tests11-expected.txt: Rebaseline

2018-09-24  Justin Michaud  <justin_michaud@apple.com>

        Import WPT tests for css custom properties api
        https://bugs.webkit.org/show_bug.cgi?id=189764

        Reviewed by Ryosuke Niwa.

        * resources/import-expectations.json:
        * web-platform-tests/css/css-properties-values-api/META.yml: Added.
        * web-platform-tests/css/css-properties-values-api/idlharness-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/idlharness.html: Added.
        * web-platform-tests/css/css-properties-values-api/property-cascade-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/property-cascade.html: Added.
        * web-platform-tests/css/css-properties-values-api/register-property-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/register-property-syntax-parsing.html: Added.
        * web-platform-tests/css/css-properties-values-api/register-property.html: Added.
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/registered-properties-inheritance.html: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-computation-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-computation.html: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom.html: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-initial-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/registered-property-initial.html: Added.
        * web-platform-tests/css/css-properties-values-api/support/alt/alt.css: Added.
        (#target):
        * web-platform-tests/css/css-properties-values-api/support/alt/alt.js: Added.
        (reg_url):
        * web-platform-tests/css/css-properties-values-api/support/alt/w3c-import.log: Added.
        * web-platform-tests/css/css-properties-values-api/support/main/main.css: Added.
        (#target):
        * web-platform-tests/css/css-properties-values-api/support/main/main.js: Added.
        (reg_url):
        * web-platform-tests/css/css-properties-values-api/support/main/main.utf16be.css: Added.
        * web-platform-tests/css/css-properties-values-api/support/main/w3c-import.log: Added.
        * web-platform-tests/css/css-properties-values-api/typedom.tentative-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/typedom.tentative.html: Added.
        * web-platform-tests/css/css-properties-values-api/unit-cycles-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/unit-cycles.html: Added.
        * web-platform-tests/css/css-properties-values-api/url-resolution-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/url-resolution.html: Added.
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-cycles.html: Added.
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-expected.txt: Added.
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties.html: Added.
        * web-platform-tests/css/css-properties-values-api/w3c-import.log: Added.

2018-09-24  Chris Dumez  <cdumez@apple.com>

        No-op document.open() calls should not have any side effects
        https://bugs.webkit.org/show_bug.cgi?id=189373
        <rdar://problem/44282702>

        Reviewed by Geoffrey Garen.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-synchronous-script.window-expected.txt:

2018-09-24  Chris Dumez  <cdumez@apple.com>

        Import html/webappapis/dynamic-markup-insertion WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=189863

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * resources/resource-files.json:
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/closing-the-input-stream/document.close-01-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/closing-the-input-stream/document.close-01.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/closing-the-input-stream/w3c-import.log: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/001-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/001.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/002-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/002.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/003-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/003.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/004-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/004.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/005-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/005.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/005.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/006-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/006.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/006.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/007-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/007.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/007.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/008-1.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/008-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/008.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/008.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/009-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/009.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/010-1.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/010-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/010.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/010.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/011-1.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/011-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/011.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/011.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/012-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/012.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/012.js: Added.
        (t.step):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/013-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/013.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/013.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/014-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/014.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/015-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/015.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/016-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/016.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/017-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/017.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/018-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/018.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/019-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/019.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/020-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/020.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/021-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/021.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/022-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/022.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/023-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/023.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/024-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/024.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/025-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/025.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/026-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/026.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/027-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/027.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/028-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/028.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/029-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/029.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/030-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/030.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/031-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/031.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/032-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/032.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/033-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/033.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/034-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/034.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/035-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/035.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/036-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/036.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/037-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/037.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/038-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/038.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/039-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/039.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/040-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/040.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/041-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/041.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/042-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/042.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/043-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/043.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/044-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/044.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/045-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/045.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/046-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/046.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/047-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/047.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/048-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/048.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/049-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/049.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/050-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/050.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/051-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/051.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/contentType.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/contentType.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/contentType.window.js: Added.
        (string_appeared_here.forEach.val.async_test.t.frame.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/document.write-01-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/document.write-01.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/document.write-02-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/document.write-02.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/empty.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_001-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_001.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_002-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_002.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_003-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_003.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_004-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_004.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_005-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_005.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_005.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_006-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_006.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_007-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_007.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_008-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_008.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_009-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_009.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_010-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/iframe_010.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/nested-document-write-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/nested-document-write-2.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/nested-document-write-external.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/original-id.json: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_001-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_001.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_002-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_002.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_003-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_003.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_004-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_004.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_005-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_005.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_006-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_006.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_007-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_007.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_008-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_008.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_009-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_009.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_010-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_010.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_011-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_011.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_012-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_012.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_013-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/script_013.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/w3c-import.log: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/write-active-document-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-write/write-active-document.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-01-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-01.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-02-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-02.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-03-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/document.writeln-03.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/original-id.json: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/document-writeln/w3c-import.log: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/002-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/002.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/004-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/004.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/006-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/006.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/011-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/011-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/011.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/012-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/012-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/012.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/013-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/013-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/013.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/014-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/014-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/014.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/015-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/015-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/015.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/016-1.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/016-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/016.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-immediate.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-immediate.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-immediate.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-header.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-header.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-header.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-meta.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-meta.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-refresh-multisecond-meta.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-while-navigating.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-while-navigating.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort-while-navigating.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        (async_test.t.t.step_timeout):
        (async_test.t.t.step_timeout.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort.sub.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort.sub.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/abort.sub.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/aborted-parser.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/aborted-parser.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/aborted-parser.window.js: Added.
        (async_test.t.window.handlers.afterOpen.t.step_func_done):
        (async_test.t.window.handlers.afterOpenAsync.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/active.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/active.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/active.window.js: Added.
        (assertOpenIsEffective):
        (async_test.t.frame.onload.t.step_func):
        (async_test.t.xhr.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-origin.sub.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-origin.sub.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-origin.sub.window.js: Added.
        (setEntryToTopLevel):
        (async_test.t.t.add_cleanup):
        (async_test.t.iframe.onload.t.step_func_done):
        (async_test.t.window.onCustomElementReady.t.step_func):
        (async_test.t.self.testSynchronousScript.t.step_func):
        (string_appeared_here.async_test.t.t.add_cleanup):
        (string_appeared_here.async_test.t.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-xml.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-xml.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-exception-vs-return-xml.window.js: Added.
        (async_test.t.t.add_cleanup):
        (async_test.t.self.testSynchronousScript.t.step_func_done):
        (string_appeared_here.async_test.t.t.add_cleanup):
        (string_appeared_here.async_test.t.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-ignore-opens-during-unload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-ignore-opens-during-unload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-ignore-opens-during-unload.window.js: Added.
        (string_appeared_here.async_test.t.iframe.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-same-origin-domain.sub.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-same-origin-domain.sub.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-same-origin-domain.sub.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-synchronous-script.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-synchronous-script.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-synchronous-script.window.js: Added.
        (async_test.t.self.testSynchronousScript.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-xml.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-xml.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/bailout-side-effects-xml.window.js: Added.
        (async_test.t.iframe.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/beforeunload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/beforeunload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/beforeunload.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/custom-element.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/custom-element.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/custom-element.window.js: Added.
        (CustomElement):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-01-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-01.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-02-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-02.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-03-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-03-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/document.open-03.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/encoding.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/encoding.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/encoding.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/event-listeners.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/event-listeners.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/event-listeners.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        (test.t.const.winListener.t.step_func):
        (test.t.t.add_cleanup):
        (test.t.const.bodyListener.t.step_func):
        (async_test.t.xhr.onload.t.step_func_done):
        (test.t.t.step_func):
        (test.t.thrower.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history-state.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history-state.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history-state.window.js: Added.
        (async_test.t.iframe.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/history.window.js: Added.
        (window.onFrameLoaded.t.step_func):
        (window.onDocumentOpen.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/ignore-opens-during-unload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/ignore-opens-during-unload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/ignore-opens-during-unload.window.js: Added.
        (async_test.t.iframe.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-events.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-events.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-events.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-observer.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-observer.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/mutation-observer.window.js: Added.
        (async_test.t.t.add_cleanup):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/no-new-global.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/no-new-global.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/no-new-global.window.js: Added.
        (async_test.t.frame.onload.t.step_func_done):
        (testIdentity):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/origin-check-in-document-open-basic-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/origin-check-in-document-open-basic.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/origin-check-in-document-open-same-origin-domain.sub-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/origin-check-in-document-open-same-origin-domain.sub.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/quirks.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/quirks.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/quirks.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/readiness.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/readiness.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/readiness.window.js: Added.
        (async_test.t.t.add_cleanup):
        (async_test.t.frame.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/reload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/reload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/reload.window.js: Added.
        (window.name.string_appeared_here.async_test.t.t.add_cleanup):
        (window.name.string_appeared_here.async_test.t.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/aborted-parser-async-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/aborted-parser-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-custom-element-with-domain-frame.sub.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-synchronous-script-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-synchronous-script-with-domain-frame.sub.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-xml-with-domain-frame.sub.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/bailout-order-xml-with-synchronous-script-frame.xhtml: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/document-open-side-effects.js: Added.
        (assertDocumentIsReadyForSideEffectsTest):
        (assertOpenHasNoSideEffects):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/dummy.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/encoding-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/global-variables-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/history-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/http-refresh.py: Added.
        (main):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/meta-refresh.py: Added.
        (main):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/page-with-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/set-document-domain.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/slow-png.py: Added.
        (main):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/url-frame.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/resources/w3c-import.log: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/tasks.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/tasks.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/tasks.window.js: Added.
        (taskTest):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument-plaintext-subframe.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument-plaintext.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument-plaintext.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument-plaintext.window.js: Added.
        (string_appeared_here.forEach.type.async_test.t.frame.onload.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/type-argument.window.js: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/unload.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/unload.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/unload.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url-fragment.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url-fragment.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url-fragment.window.js: Added.
        (async_test.t.t.add_cleanup):
        (async_test.t.self.onhashchange.t.step_func_done):
        (async_test.t.const.frame.document.body.appendChild.document.createElement.string_appeared_here.t.add_cleanup):
        (async_test.t.window.testDone.t.step_func_done):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window-expected.txt: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window.html: Added.
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/url.window.js: Added.
        (async_test.t.frame.onload.t.step_func):
        * web-platform-tests/html/webappapis/dynamic-markup-insertion/opening-the-input-stream/w3c-import.log: Added.

2018-09-24  Yoav Weiss  <yoav@yoav.ws>

        Import WPT resource-timing tests
        https://bugs.webkit.org/show_bug.cgi?id=189903

        Reviewed by Youenn Fablet.

        * web-platform-tests/resource-timing/META.yml: Added.
        * web-platform-tests/resource-timing/OWNERS: Removed.
        * web-platform-tests/resource-timing/clear_resource_timing_functionality.html: Added.
        * web-platform-tests/resource-timing/clear_resource_timing_functionality-expected.txt: Added.
        * web-platform-tests/resource-timing/idlharness.any.html: Added.
        * web-platform-tests/resource-timing/idlharness.any-expected.txt: Added.
        * web-platform-tests/resource-timing/idlharness.any.js: Added.
        (idl_array.catch):
        * web-platform-tests/resource-timing/idlharness.any.worker.html: Added.
        * web-platform-tests/resource-timing/idlharness.any.worker-expected.txt: Added.
        * web-platform-tests/resource-timing/idlharness.html: Removed.
        * web-platform-tests/resource-timing/resource-timing-tojson.html: Added.
        * web-platform-tests/resource-timing/resource-timing-tojson-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_TAO_cross_origin_redirect_chain.html: Added.
        * web-platform-tests/resource-timing/resource_TAO_cross_origin_redirect_chain-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_TAO_match_origin.htm:
        * web-platform-tests/resource-timing/resource_TAO_match_origin-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_match_wildcard.htm:
        * web-platform-tests/resource-timing/resource_TAO_match_wildcard-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_multi.htm:
        * web-platform-tests/resource-timing/resource_TAO_multi-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_multi_wildcard.html: Copied from LayoutTests/imported/w3c/web-platform-tests/resource-timing/resource_TAO_multi.htm.
        * web-platform-tests/resource-timing/resource_TAO_multi_wildcard-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_TAO_null.htm:
        * web-platform-tests/resource-timing/resource_TAO_null-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_origin_uppercase.htm:
        * web-platform-tests/resource-timing/resource_TAO_origin_uppercase-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_space.htm:
        * web-platform-tests/resource-timing/resource_TAO_space-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_TAO_wildcard.htm:
        * web-platform-tests/resource-timing/resource_TAO_wildcard-expected.txt: Changed.
        * web-platform-tests/resource-timing/resource_dedicated_worker.html: Added.
        * web-platform-tests/resource-timing/resource_dedicated_worker-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_ignore_data_url.html: Added.
        * web-platform-tests/resource-timing/resource_ignore_data_url-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_ignore_failures.html: Added.
        * web-platform-tests/resource-timing/resource_ignore_failures-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_initiator_types.html: Added.
        * web-platform-tests/resource-timing/resource_initiator_types-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_memory_cached.sub.html: Added.
        * web-platform-tests/resource-timing/resource_memory_cached.sub-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_redirects.html: Added.
        * web-platform-tests/resource-timing/resource_redirects-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_reparenting.html: Added.
        * web-platform-tests/resource-timing/resource_reparenting-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_script_types.html: Added.
        * web-platform-tests/resource-timing/resource_script_types-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_subframe_self_navigation.html: Added.
        * web-platform-tests/resource-timing/resource_subframe_self_navigation-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing.worker.html: Added.
        * web-platform-tests/resource-timing/resource_timing.worker-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing.worker.js: Added.
        (check):
        (async_test.t.then):
        * web-platform-tests/resource-timing/resource_timing_TAO_cross_origin_redirect.html: Added.
        * web-platform-tests/resource-timing/resource_timing_TAO_cross_origin_redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_eventually.html: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_eventually-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_populate_entries.html: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_populate_entries-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_shrink_buffer_size.html: Added.
        * web-platform-tests/resource-timing/resource_timing_buffer_full_when_shrink_buffer_size-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect.html: Added.
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect_chain.html: Added.
        * web-platform-tests/resource-timing/resource_timing_cross_origin_redirect_chain-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_same_origin_redirect.html: Added.
        * web-platform-tests/resource-timing/resource_timing_same_origin_redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_store_and_clear_during_callback.html: Added.
        * web-platform-tests/resource-timing/resource_timing_store_and_clear_during_callback-expected.txt: Added.
        * web-platform-tests/resource-timing/resources/TAOResponse.py:
        (main):
        * web-platform-tests/resource-timing/resources/all_resource_types.htm: Added.
        * web-platform-tests/resource-timing/resources/blank_page_green.htm: Added.
        * web-platform-tests/resource-timing/resources/empty.js: Added.
        * web-platform-tests/resource-timing/resources/empty.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/empty_script.js: Added.
        * web-platform-tests/resource-timing/resources/eventsource.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/green_frame.htm: Added.
        * web-platform-tests/resource-timing/resources/iframe_TAO_multi_wildcard.html: Added.
        * web-platform-tests/resource-timing/resources/multi_redirect.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/nested.css: Added.
        (@import "resource_timing_test0.css?id=n1";):
        (ol):
        * web-platform-tests/resource-timing/resources/notify_parent.html: Added.
        * web-platform-tests/resource-timing/resources/self_navigation.html: Added.
        * web-platform-tests/resource-timing/resources/w3c-import.log:
        * web-platform-tests/resource-timing/resources/worker_with_images.js: Added.
        (checkDone):
        (makeRequest.xhr.onreadystatechange):
        (makeRequest):
        * web-platform-tests/resource-timing/w3c-import.log:

2018-09-21  Dean Jackson  <dino@apple.com>

        Add PointerEvent, plus feature flag, plus Web Platform Tests
        https://bugs.webkit.org/show_bug.cgi?id=189867
        <rdar://problem/44697384>

        Reviewed by Simon Fraser.

        Import the Web Platform Tests for Pointer Events.

        * resources/import-expectations.json:
        * web-platform-tests/pointerevents/META.yml: Added.
        * web-platform-tests/pointerevents/README.md: Added.
        * web-platform-tests/pointerevents/extension/idlharness.window-expected.txt: Added.
        * web-platform-tests/pointerevents/extension/idlharness.window.html: Added.
        * web-platform-tests/pointerevents/extension/idlharness.window.js: Added.
        * web-platform-tests/pointerevents/extension/pointerevent_constructor-expected.txt: Added.
        * web-platform-tests/pointerevents/extension/pointerevent_constructor.html: Added.
        * web-platform-tests/pointerevents/extension/pointerevent_touch-action-verification-expected.txt: Added.
        * web-platform-tests/pointerevents/extension/pointerevent_touch-action-verification.html: Added.
        * web-platform-tests/pointerevents/extension/w3c-import.log: Added.
        * web-platform-tests/pointerevents/idlharness.window-expected.txt: Added.
        * web-platform-tests/pointerevents/idlharness.window.html: Added.
        * web-platform-tests/pointerevents/idlharness.window.js: Added.
        * web-platform-tests/pointerevents/pointerevent_constructor-expected.txt: Added.
        * web-platform-tests/pointerevents/pointerevent_constructor.html: Added.
        * web-platform-tests/pointerevents/pointerevent_on_event_handlers-expected.txt: Added.
        * web-platform-tests/pointerevents/pointerevent_on_event_handlers.html: Added.
        * web-platform-tests/pointerevents/pointerevent_styles.css: Added.
        * web-platform-tests/pointerevents/pointerevent_support.js: Added.
        * web-platform-tests/pointerevents/pointerevent_touch-action-illegal-expected.txt: Added.
        * web-platform-tests/pointerevents/pointerevent_touch-action-illegal.html: Added.
        * web-platform-tests/pointerevents/pointerevent_touch-action-verification-expected.txt: Added.
        * web-platform-tests/pointerevents/pointerevent_touch-action-verification.html: Added.
        * web-platform-tests/pointerevents/pointerlock/resources/pointerevent_movementxy-iframe.html: Added.
        * web-platform-tests/pointerevents/pointerlock/resources/w3c-import.log: Added.
        * web-platform-tests/pointerevents/resources/pointerevent_attributes_hoverable_pointers-iframe.html: Added.
        * web-platform-tests/pointerevents/resources/pointerevent_fractional_coordinates-iframe.html: Added.
        * web-platform-tests/pointerevents/resources/pointerevent_pointerId_scope-iframe.html: Added.
        * web-platform-tests/pointerevents/resources/w3c-import.log: Added.
        * web-platform-tests/pointerevents/w3c-import.log: Added.

2018-09-21  YUHAN WU  <yuhan_wu@apple.com>

        Import WPT content hint tests
        https://bugs.webkit.org/show_bug.cgi?id=189854

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * web-platform-tests/mst-content-hint/META.yml: Added.
        * web-platform-tests/mst-content-hint/MediaStreamTrack-contentHint-expected.txt: Added.
        * web-platform-tests/mst-content-hint/MediaStreamTrack-contentHint.html: Added.
        * web-platform-tests/mst-content-hint/idlharness.window.html: Added.
        * web-platform-tests/mst-content-hint/idlharness.window.js: Added.
        * web-platform-tests/mst-content-hint/w3c-import.log: Added.

2018-09-21  Youenn Fablet  <youenn@apple.com>

        Add RTCCodecStats support
        https://bugs.webkit.org/show_bug.cgi?id=189792
        <rdar://problem/32370668>

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCPeerConnection-addIceCandidate-expected.txt:
        * web-platform-tests/webrtc/RTCRtpReceiver-getStats.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpSender-getStats.https-expected.txt:

2018-09-20  Frederic Wang  <fwang@igalia.com>

        Synchronize CSSOM View test suite against upstream WPT
        https://bugs.webkit.org/show_bug.cgi?id=189787

        Reviewed by Antonio Gomes.

        * web-platform-tests/css/cssom-view/META.yml: Added.
        * web-platform-tests/css/cssom-view/OWNERS: Removed.
        * web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-vertical-rl-expected.html: Added.
        * web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-vertical-rl.html: Added.
        * web-platform-tests/css/cssom-view/cssom-view-window-screen-interface-expected.txt:
        * web-platform-tests/css/cssom-view/cssom-view-window-screen-interface.html:
        * web-platform-tests/css/cssom-view/dom-element-scroll-expected.txt: Added.
        * web-platform-tests/css/cssom-view/dom-element-scroll.html: Added.
        * web-platform-tests/css/cssom-view/elementFromPoint-mixed-font-sizes-expected.txt: Added.
        * web-platform-tests/css/cssom-view/elementFromPoint-mixed-font-sizes.html: Added.
        * web-platform-tests/css/cssom-view/interfaces-expected.txt:
        * web-platform-tests/css/cssom-view/interfaces.html:
        * web-platform-tests/css/cssom-view/media-query-list-interface-expected.txt: Removed.
        * web-platform-tests/css/cssom-view/media-query-list-interface.xht: Removed.
        * web-platform-tests/css/cssom-view/resources/w3c-import.log:
        * web-platform-tests/css/cssom-view/scroll-behavior-default-css-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-default-css.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-element-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-element.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-main-frame-root-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-main-frame-root.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-main-frame-window-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-main-frame-window.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-scrollintoview-nested-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-scrollintoview-nested.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-smooth-positions-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-smooth-positions.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-subframe-root-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-subframe-root.html: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-subframe-window-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scroll-behavior-subframe-window.html: Added.
        * web-platform-tests/css/cssom-view/scrollIntoView-vertical-rl-writing-mode-expected.txt: Added.
        * web-platform-tests/css/cssom-view/scrollIntoView-vertical-rl-writing-mode.html: Added.
        * web-platform-tests/css/cssom-view/support/scroll-behavior.js: Added.
        (observeScrolling):
        (waitForScrollEnd):
        (scrollNode):
        (scrollWindow):
        * web-platform-tests/css/cssom-view/support/support/w3c-import.log:
        * web-platform-tests/css/cssom-view/support/w3c-import.log:
        * web-platform-tests/css/cssom-view/table-client-props-expected.txt: Added.
        * web-platform-tests/css/cssom-view/table-client-props.html: Added.
        * web-platform-tests/css/cssom-view/table-offset-props-expected.txt: Added.
        * web-platform-tests/css/cssom-view/table-offset-props.html: Added.
        * web-platform-tests/css/cssom-view/table-scroll-props-expected.txt: Added.
        * web-platform-tests/css/cssom-view/table-scroll-props.html: Added.
        * web-platform-tests/css/cssom-view/w3c-import.log:
        * web-platform-tests/css/cssom-view/window-interface-expected.txt: Removed.
        * web-platform-tests/css/cssom-view/window-interface.xht: Removed.

2018-09-19  YUHAN WU  <yuhan_wu@apple.com>

        MediaStream-MediaElement-srcObject.https.html expects video duration for a MediaStream to be Infinity and is currently NaN
        https://bugs.webkit.org/show_bug.cgi?id=189516

        Reviewed by Youenn Fablet.

        * web-platform-tests/mediacapture-streams/MediaStream-MediaElement-srcObject.https.html:
        * web-platform-tests/mediacapture-streams/MediaStream-MediaElement-srcObject.https-expected.txt:

2018-09-19  Youenn Fablet  <youenn@apple.com>

        Implement sender/receiver getStats
        https://bugs.webkit.org/show_bug.cgi?id=189707

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCRtpReceiver-getStats.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpSender-getStats.https-expected.txt:

2018-09-18  Youenn Fablet  <youenn@apple.com>

        Implement RTCRtpReceiver getContributingSources/getSynchronizationSources
        https://bugs.webkit.org/show_bug.cgi?id=189671

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/RTCRtpReceiver-getContributingSources.https-expected.txt:
        * web-platform-tests/webrtc/RTCRtpReceiver-getSynchronizationSources.https-expected.txt:
        * web-platform-tests/webrtc/interfaces-expected.txt: Removed, as no longer needed.

2018-09-18  Manuel Rego Casasnovas  <rego@igalia.com>

        [css-grid] Static position should use content-box, not padding-box
        https://bugs.webkit.org/show_bug.cgi?id=189698

        Reviewed by Javier Fernandez.

        * web-platform-tests/css/css-grid/abspos/absolute-positioning-grid-container-parent-001.html:
        Update tests from WPT.

2018-09-12  Ryosuke Niwa  <rniwa@webkit.org>

        Update composedPath to match the latest spec
        https://bugs.webkit.org/show_bug.cgi?id=180378
        <rdar://problem/42843004>

        Reviewed by Darin Adler.

        Rebaselined the test now that all test cases pass.

        * web-platform-tests/shadow-dom/event-composed-path-after-dom-mutation-expected.txt:

2018-09-15  Rob Buis  <rbuis@igalia.com>

        XMLHttpRequest::createResponseBlob() should create a Blob with type for empty response
        https://bugs.webkit.org/show_bug.cgi?id=189627

        Reviewed by Alexey Proskuryakov.

        * web-platform-tests/xhr/overridemimetype-blob-expected.txt:

2018-09-14  Ms2ger  <Ms2ger@igalia.com>

        Remove some obsolete XHR tests
        https://bugs.webkit.org/show_bug.cgi?id=189581

        Reviewed by Youenn Fablet.

        These tests were removed upstream, but stuck around in WebKit.

        * web-platform-tests/xhr/OWNERS: Removed.
        * web-platform-tests/xhr/abort-during-open-expected.txt: Removed.
        * web-platform-tests/xhr/abort-during-open.htm: Removed.
        * web-platform-tests/xhr/abort-during-open.js: Removed.
        * web-platform-tests/xhr/abort-during-open.worker-expected.txt: Removed.
        * web-platform-tests/xhr/abort-during-open.worker.html: Removed.
        * web-platform-tests/xhr/abort-during-open.worker.js: Removed.
        * web-platform-tests/xhr/getallresponseheaders-cl-expected.txt: Removed.
        * web-platform-tests/xhr/getallresponseheaders-cl.htm: Removed.
        * web-platform-tests/xhr/interfaces-expected.txt: Removed.
        * web-platform-tests/xhr/interfaces.html: Removed.
        * web-platform-tests/xhr/open-url-bogus-expected.txt: Removed.
        * web-platform-tests/xhr/open-url-bogus.htm: Removed.
        * web-platform-tests/xhr/overridemimetype-done-state-expected.txt: Removed.
        * web-platform-tests/xhr/overridemimetype-done-state.htm: Removed.
        * web-platform-tests/xhr/readme.txt: Removed.
        * web-platform-tests/xhr/responsetype-expected.txt: Removed.
        * web-platform-tests/xhr/responsetype.html: Removed.
        * web-platform-tests/xhr/send-non-same-origin.sub-expected.txt: Removed.
        * web-platform-tests/xhr/send-non-same-origin.sub.htm: Removed.
        * web-platform-tests/xhr/send-send-expected.txt: Removed.
        * web-platform-tests/xhr/send-send.htm: Removed.
        * web-platform-tests/xhr/send-send.js: Removed.
        * web-platform-tests/xhr/send-send.worker-expected.txt: Removed.
        * web-platform-tests/xhr/send-send.worker.html: Removed.
        * web-platform-tests/xhr/send-send.worker.js: Removed.
        * web-platform-tests/xhr/send-usp-expected.txt: Removed.
        * web-platform-tests/xhr/send-usp.html: Removed.
        * web-platform-tests/xhr/send-usp.js: Removed.

2018-09-12  Ryosuke Niwa  <rniwa@webkit.org>

        Capturing event listeners are called during bubbling phase for shadow hosts
        https://bugs.webkit.org/show_bug.cgi?id=174288

        Reviewed by Darin Adler.

        * web-platform-tests/dom/events/Event-dispatch-handlers-changed-expected.txt: Rebaselined. This test's
        expectation is now wrong because event listner 3 is added after the event listener list is cloned for
        capturing event listeners but before cloned for bubbling event listeners. As a result, event listener 3
        is now invoked. It used to be not called because both bubbling and capturing event listeners are called
        after cloning the event listner list once, which didn't have event listener 3.

        * web-platform-tests/dom/events/EventTarget-dispatchEvent-expected.txt: Rebaselined. This test expects
        event listener 2, which is bubbling, to be called between two capturing event listeners 1 and 3, which
        is no longer true after this patch.

2018-09-12  Chris Dumez  <cdumez@apple.com>

        Unreviewed, rebaseline imported/w3c/web-platform-tests/url/failure.html after r235808.

        New checks are passing.

        * web-platform-tests/url/failure-expected.txt:

2018-09-11  Dean Jackson  <dino@apple.com>

        Header parsing for experimental and internal debug features
        https://bugs.webkit.org/show_bug.cgi?id=189486
        <rdar://problem/44320618>

        Reviewed by Tim Horton.

        New webkit-test-runner headers.

        * web-platform-tests/css-timing-1/frames-timing-functions-output.html:
        * web-platform-tests/media-source/mediasource-changetype-play.html:
        * web-platform-tests/media-source/mediasource-changetype.html:
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-context.html:
        * web-platform-tests/web-animations/interfaces/Animatable/animate.html:
        * web-platform-tests/web-animations/interfaces/Animation/ready.html:
        * web-platform-tests/web-animations/timing-model/animations/current-time.html:
        * web-platform-tests/web-animations/timing-model/animations/playing-an-animation.html:
        * web-platform-tests/web-animations/timing-model/animations/reversing-an-animation.html:

2018-09-12  YUHAN WU  <yuhan_wu@apple.com>

        Import media recorder api WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=189526

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * web-platform-tests/mediacapture-record/BlobEvent-constructor-expected.txt: Added.
        * web-platform-tests/mediacapture-record/BlobEvent-constructor.html: Added.
        * web-platform-tests/mediacapture-record/META.yml: Added.
        * web-platform-tests/mediacapture-record/idlharness.window-expected.txt: Added.
        * web-platform-tests/mediacapture-record/idlharness.window.html: Added.
        * web-platform-tests/mediacapture-record/idlharness.window.js: Added.
        (idl_array.catch):
        * web-platform-tests/mediacapture-record/w3c-import.log: Added.

2018-09-12  Ali Juma  <ajuma@chromium.org>

        [IntersectionObserver] Implement rootMargin expansion
        https://bugs.webkit.org/show_bug.cgi?id=189525

        Reviewed by Simon Fraser.

        Rebasline expectation for test that now passes.

        * web-platform-tests/intersection-observer/root-margin-expected.txt:

2018-09-11  Ali Juma  <ajuma@chromium.org>

        [IntersectionObserver] Update WPTs to the latest upstream version
        https://bugs.webkit.org/show_bug.cgi?id=189515

        Reviewed by Youenn Fablet.

        * web-platform-tests/intersection-observer/initial-observation-with-threshold-expected.txt: Added.
        * web-platform-tests/intersection-observer/initial-observation-with-threshold.html: Added.
        * web-platform-tests/intersection-observer/resources/intersection-observer-test-utils.js:
        (waitForNotification):
        * web-platform-tests/intersection-observer/w3c-import.log:

2018-09-11  Youenn Fablet  <youenn@apple.com>

        Remove MediaDevices NoInterfaceObject
        https://bugs.webkit.org/show_bug.cgi?id=189512

        Reviewed by Alex Christensen.

        * web-platform-tests/mediacapture-streams/MediaDevices-IDL-all-expected.txt:
        * web-platform-tests/mediacapture-streams/MediaDevices-IDL-enumerateDevices-expected.txt:

2018-09-11  Chris Dumez  <cdumez@apple.com>

        Unreviewed, rebaseline imported/w3c/web-platform-tests/css/cssom/interfaces.html after r235889.

        * web-platform-tests/css/cssom/interfaces-expected.txt:

== Rolled over to ChangeLog-2018-09-11 ==
