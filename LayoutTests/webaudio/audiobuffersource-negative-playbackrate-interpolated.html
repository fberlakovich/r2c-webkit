<!DOCTYPE html>
<html>
<head>
    <title>audiobuffersource-negative-playbackrate-interpolated</title>
    <script type="text/javascript" src="resources/audio-testing.js"></script>
    <script type="text/javascript" src="resources/buffer-loader.js"></script>

    <script>
    var sampleRate = 44100.0;
    var lengthInSeconds = 2;

    var context = 0;
    var bufferLoader = 0;

    function go() {
        if (!window.testRunner)
            return;

        context = new webkitOfflineAudioContext(2, sampleRate * lengthInSeconds, sampleRate);

        bufferLoader = new BufferLoader(context, ["resources/hyper-reality/br-jam-loop.wav"], finishedLoading);
        bufferLoader.load();
        testRunner.waitUntilDone();
    }

    function finishedLoading(bufferList) {
        var bufferSource = context.createBufferSource();
        bufferSource.buffer = bufferList[0];

        bufferSource.connect(context.destination);
        bufferSource.playbackRate.value = -0.75;
        bufferSource.start(0);

        context.oncomplete = finishAudioTest;
        context.startRendering();
    }

    </script>
</head>
<body onload="go()">
</body>
</html>
