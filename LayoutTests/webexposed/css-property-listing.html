<!DOCTYPE html>
<script src="../resources/js-test.js"></script>
<script>
function getAllPropertyNames(style) {
    return Object.getOwnPropertyNames(style).sort();
}
debug("This test (crudely) documents WebKit's web-exposed CSS properties.");
debug("");

let style = document.createElement("foo").style;
let properties = {
    longhands: [],
    shorthands: [],
};
for (let property of getAllPropertyNames(style)) {
    let name = property.replace(/[A-Z]/g, a => '-' + a.toLowerCase()).replace(/^(?=webkit-)/, "-");
    style.cssText = "";
    style[property] = "inherit";
    if (style.length > 1) {
        properties.shorthands.push({name, subproperties: Array.from(style)});
    } else {
        properties.longhands.push({name, subproperties: []});
    }
}
for (let [kind, data] of Object.entries(properties)) {
    debug("[" + kind.toUpperCase() + "]");
    data.sort(({name: n1}, {name: n2}) => n1 < n2 ? -1 : n1 > n2 ? 1 : 0);
    for (let {name, subproperties} of data) {
        debug("    " + name);
        for (let subproperty of subproperties) {
            debug("        " + subproperty);
        }
    }
    debug("");
}
</script>
