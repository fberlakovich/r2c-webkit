# These are the layout test expectations for the glib-based ports: WebKitGTK and WPE.
#
# This file is used to track common expectations to both ports.
#
# The bots of WebKitGTK+/WPE running layout tests (GTK Release Test, GTK Debug Test,
# GTK Release Wayland Test, WPE Release Test, and WPE Debug Test)
# are currently running on Debian 10 (Buster) x86_64.
#
# See http://trac.webkit.org/wiki/TestExpectations for more information on this file.
#
# Never add any tests to this file without opening a bug on bugzilla.webkit.org.

#//////////////////////////////////////////////////////////////////////////////////////////
# Platform-specific directories.
#//////////////////////////////////////////////////////////////////////////////////////////

#//////////////////////////////////////////////////////////////////////////////////////////
# End platform-specific directories.
#//////////////////////////////////////////////////////////////////////////////////////////

# This list is divided into several sections to make it easy for us to triage and close issues.
# 1. TESTS THAT REQUIRE NEW RESULTS
# Please don't add any tests to this list. Instead just ping a WebKitGTK/WPE developer
# to generate results for you.
#
# 2. EXPECTED FAILURES
# This list is divided into two parts:
# a. Tests that we never expect to pass, because they use features we likely
#    will never implement (Mac-only features, for instance).
# b. Missing WebCore/WebKit features that we'll want someday.
#
# 3. TESTS CRASHING
# Please open a bug for each test crashing with any important information.
# These are in a separate section than failing tests, because they should be
# priority fixes.
#
# 4. FLAKY TESTS
# Tests that sometimes pass.
#
# 5. SLOW TESTS
# These tests are assigned the SLOW modifier to prevent them timing out as they
# otherwise pass, but take a long time to complete due to the nature of test,
# debug configuration or some other performance-affecting factor.
#
# 6. TESTS TIMING OUT
# Please open a bug for each test timing out with any important information.
#
# 7. TESTS WITH ARCHITECTURE-SPECIFIC RESULTS
# Tests with different results (of which at least one is failure) on 32-bit and 64-bit builders.
# These tests are essentially marked as flaky, but are noted as failing only on specific architecture.
#
# 8. WEBKIT2 REGRESSIONS
# Tests that are now failing because of the switch to WebKit2, probably misssing some
# test harness support.
#
# 9. TESTS FAILING
# Each test should (eventually) have a bug. Missing test harness features also go here.
#
# 10. TESTS PASSING
# Tests that pass for GTK/WPE but have different expectations in the global expectations file.
#
# 11. THREADED COMPOSITOR FAILURES
# Tests that are now failing because of the switch to ThreadedCompositor.

#////////////////////////////////////////////////////////////////////////////////////////
# 1. TESTS THAT REQUIRE NEW RESULTS
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# End of Tests Requiring New Results
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 2. EXPECTED FAILURES
#////////////////////////////////////////////////////////////////////////////////////////

webkit.org/b/211995 fast/images/animated-image-mp4.html [ Failure ]

#////////////////////////////////////////////////////////////////////////////////////////
# End of Expected Failures
#////////////////////////////////////////////////////////////////////////////////////////


#////////////////////////////////////////////////////////////////////////////////////////
# 3. TESTS CRASHING
#////////////////////////////////////////////////////////////////////////////////////////

webkit.org/b/211942 webgl/1.0.3/conformance/more/functions/copyTexImage2DBadArgs.html [ Crash ]

#////////////////////////////////////////////////////////////////////////////////////////
# End of Crashing tests
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 4. FLAKY TESTS
#////////////////////////////////////////////////////////////////////////////////////////

webkit.org/b/210385 fast/mediastream/stream-switch.html [ Crash Timeout ]

webkit.org/b/211692 imported/w3c/web-platform-tests/xhr/event-timeout-order.any.worker.html [ Failure Pass ]

webkit.org/b/211837 perf/rel-list-remove.html [ Failure Pass ]

webkit.org/b/211948 webanimations/accelerated-animation-playback-rate.html [ ImageOnlyFailure Timeout Pass ]

#////////////////////////////////////////////////////////////////////////////////////////
# End of Flaky Tests
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 5. SLOW TESTS
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# End of slow tests
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 6. TESTS TIMING OUT
#////////////////////////////////////////////////////////////////////////////////////////

webkit.org/b/212020 webanimations/accelerated-animation-single-keyframe.html [ Skip ]

#////////////////////////////////////////////////////////////////////////////////////////
# End of Tests timing out
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 7. TESTS WITH ARCHITECTURE-SPECIFIC RESULTS
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# End of tests with architecture-specific results
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 8. WEBKIT2 REGRESSIONS
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# End of WebKit2-related regressions
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 9. TESTS FAILING
#////////////////////////////////////////////////////////////////////////////////////////

webkit.org/b/152908 pageoverlay/overlay-installation.html [ Failure ]
webkit.org/b/152908 pageoverlay/overlay-large-document-scrolled.html [ Failure ]
webkit.org/b/152908 pageoverlay/overlay-large-document.html [ Failure ]
webkit.org/b/152908 pageoverlay/overlay-small-frame-paints.html [ Pass Failure ]
webkit.org/b/168501 pageoverlay/overlay-remove-reinsert-view.html [ Failure ]

webkit.org/b/169917 fast/canvas/webgl/unprefixed-anisotropic-extension.html [ Failure ]
webkit.org/b/169917 webgl/1.0.3/conformance/extensions/webgl-compressed-texture-size-limit.html [ Failure ]

webkit.org/b/206589 fast/box-shadow/inset-box-shadow-fractional-radius.html [ ImageOnlyFailure ]

webkit.org/b/212217 imported/w3c/web-platform-tests/fetch/api/redirect/redirect-location-escape.tentative.any.html [ Failure ]
webkit.org/b/212217 imported/w3c/web-platform-tests/fetch/api/redirect/redirect-location-escape.tentative.any.worker.html [ Failure ]

webkit.org/b/212300 fast/text/font-collection-2.html [ ImageOnlyFailure ]

#////////////////////////////////////////////////////////////////////////////////////////
# End of non-crashing, non-flaky tests failing
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 10. TESTS PASSING
#////////////////////////////////////////////////////////////////////////////////////////

fast/text/emoji-gender-2-3.html [ Pass ]
fast/text/emoji-gender-2-4.html [ Pass ]
fast/text/emoji-gender-2-5.html [ Pass ]
fast/text/emoji-gender-2-6.html [ Pass ]
fast/text/emoji-gender-2-7.html [ Pass ]
fast/text/emoji-gender-2-8.html [ Pass ]
fast/text/emoji-gender-2-9.html [ Pass ]
fast/text/emoji-gender-3.html [ Pass ]
fast/text/emoji-gender-4.html [ Pass ]
fast/text/emoji-gender-5.html [ Pass ]
fast/text/emoji-gender-6.html [ Pass ]
fast/text/emoji-gender-8.html [ Pass ]
fast/text/emoji-gender-9.html [ Pass ]
fast/text/emoji-gender-fe0f-3.html [ Pass ]
fast/text/emoji-gender-fe0f-4.html [ Pass ]
fast/text/emoji-gender-fe0f-5.html [ Pass ]
fast/text/emoji-gender-fe0f-6.html [ Pass ]
fast/text/emoji-gender-fe0f-7.html [ Pass ]
fast/text/emoji-gender-fe0f-8.html [ Pass ]
fast/text/emoji-gender-fe0f-9.html [ Pass ]
fast/text/emoji-gender.html [ Pass ]

# Some Apple ports don't support RTL scrollbars.
fast/scrolling/rtl-scrollbars-elementFromPoint-static.html [ Pass ]
fast/scrolling/rtl-scrollbars-iframe-offset.html [ Pass ]
fast/scrolling/rtl-scrollbars-listbox-select-left.html [ Pass ]
fast/scrolling/rtl-scrollbars-listbox-select-right.html [ Pass ]
fast/scrolling/rtl-scrollbars-listbox-simple.html [ Pass ]
fast/scrolling/rtl-scrollbars-overflow-dir-rtl.html [ Pass ]
fast/scrolling/rtl-scrollbars-overflow-elementFromPoint.html [ Pass ]
fast/scrolling/rtl-scrollbars-overflow-padding.html [ Pass ]
fast/scrolling/rtl-scrollbars-overflow-position-absolute.html [ Pass ]
fast/scrolling/rtl-scrollbars-overflow-simple.html [ Pass ]
fast/scrolling/rtl-scrollbars-overflow.html [ Pass ]
fast/scrolling/rtl-scrollbars-positioned-intersect-scrollbars.html [ Pass ]
fast/scrolling/rtl-scrollbars-positioning.html [ Pass ]
fast/scrolling/rtl-scrollbars-simple.html [ Pass ]
fast/scrolling/rtl-scrollbars.html [ Pass ]

webkit.org/b/172056 fast/text/multiglyph-characters.html [ Pass ]

#////////////////////////////////////////////////////////////////////////////////////////
# End of PASSING tests. See top of file where to put new expectations.
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# 11. THREADED COMPOSITOR FAILURES
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# End of tests failing due to THREADED COMPOSITOR enablement. Don't put random test
# failures here. See the top of the file for where to put new expectations.
#////////////////////////////////////////////////////////////////////////////////////////
