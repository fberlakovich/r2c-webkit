# These are the layout test expectations for Apple's iOS port of WebKit.
#
# See http://trac.webkit.org/wiki/TestExpectations for more information on this file.

###
# Unsupported and disabled features
##
# Cannot enable AX tests because there are too many differences between what is available
# through the iPhone AX API and the OS X AX API.
accessibility

# No fullscreen API on iOS
fullscreen
http/tests/fullscreen

# Skip WebGL tests in iOS Simulator
webgl
fast/canvas/webgl

# Encrypted Media Extensions are not enabled
media/encrypted-media/
fast/events/constructors/device-proximity-event-constructor.html

# FIXME: <rdar://problem/6512037> LayoutTests: Enable printing tests once printing is supported on iOS
printing

# Not supported on iOS
batterystatus
gamepad
java
proximity
pointer-lock
touchadjustment
vibration
webaudio

###
# Known failures
##
webkit.org/b/137572 scrollbars/scroll-rtl-or-bt-layer.html [ Skip ]
webkit.org/b/137572 scrollbars/scrollable-iframe-remove-crash.html [ Skip ] # Timeout, Fail
webkit.org/b/137572 scrollbars/scrollbar-drag-thumb-with-large-content.html [ Failure ]
webkit.org/b/137572 scrollbars/scrollbar-iframe-click-does-not-blur-content.html [ Failure ]
webkit.org/b/137572 scrollbars/scrollbar-selectors.html [ Failure ]
webkit.org/b/137572 scrollbars/scrollevent-iframe-no-scrolling.html [ Failure ]

# SVG
webkit.org/b/137574 svg/as-image/svg-nested.html [ Skip ] # Times out
webkit.org/b/137574 svg/dom/SVGAnimatedAngle.html [ Skip ] # Pass, Crash
webkit.org/b/137574 svg/css/arrow-with-shadow.svg [ Skip ] # Pass, Crash

# window.requestAnimationFrame() broken in iOS Simulator
webkit.org/b/137588 fast/animation

# <rdar://problem/19017465> ASSERTION FAILED: param >= 0 in AnimationBase::updateStateMachine()
animations/3d/change-transform-in-end-event.html [ Skip ] # Also flaky: Pass, Timeout, Missing
animations/3d/transform-perspective.html [ Skip ] # Also flaky: Pass, Timeout, Missing
animations/animation-controller-drt-api.html [ Skip ]
animations/animation-direction-reverse-fill-mode-hardware.html [ Skip ]
animations/change-transform-style-during-animation.html [ Skip ]
animations/dynamic-stylesheet-loading.html [ Skip ]
animations/fill-mode-transform.html [ Skip ]
animations/pause-crash.html [ Skip ]
animations/resume-after-page-cache.html [ Skip ]
animations/stop-animation-on-suspend.html [ Skip ]

# Animation tests that fail:
animations/cross-fade-background-image.html [ ImageOnlyFailure ]
animations/cross-fade-webkit-mask-box-image.html [ Failure ]

# Animation tests that are flaky:
animations/3d/matrix-transform-type-animation.html [ Skip ] # Pass, Timeout, Missing
animations/3d/replace-filling-transform.html [ Skip ] # ImageOnlyFailure, Timeout, Pass
animations/3d/state-at-end-event-transform.html [ Skip ] # Pass, Timeout, Missing 
animations/animation-delay-changed.html [ Skip ] # Failure, Pass
animations/cross-fade-border-image-source.html [ Skip ] # Failure, ImageOnlyFailure, Pass

# Animation tests that have stderr:
animations/3d/transform-origin-vs-functions.html [ Skip ]
animations/added-while-suspended.html [ Skip ]

# Canvas tests that fail:
webkit.org/b/137530 canvas/philip/tests/2d.composite.operation.clear.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.composite.operation.darker.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.drawImage.animated.poster.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.drawImage.broken.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.drawImage.image.incomplete.omitted.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.drawImage.outsidesource.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.fillStyle.parse.rgb-eof.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.fillStyle.parse.rgba-eof.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.missingargs.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.path.rect.winding.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.pattern.image.incomplete.omitted.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text-custom-font-load-crash.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.baseline.bottom.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.baseline.hanging.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.baseline.ideographic.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.baseline.middle.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.baseline.top.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.space.collapse.end.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.space.collapse.other.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.space.collapse.space.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.draw.space.collapse.start.html [ Failure ]
webkit.org/b/137530 canvas/philip/tests/2d.text.measure.width.space.html [ Failure ]

# Canvas tests that have stderr:
canvas/philip/tests/2d.canvas.readonly.html [ Skip ]

# <rdar://problem/19068790> ASSERTION FAILED: m_scriptExecutionContext->isContextThread() in ContextDestructionObserver::observeContext
crypto/subtle/rsa-oaep-generate-non-extractable-key.html [ Skip ]
crypto/subtle/rsassa-pkcs1-v1_5-generate-key.html [ Skip ]
crypto/subtle/rsa-oaep-key-manipulation.html [ Skip ]

# <rdar://problem/19068796> ASSERTION FAILED: crypto/subtle/rsassa-pkcs1-v1_5-generate-key-with-leading-zeroes-in-exponent.html fails ASSERT(m_scriptExecutionContext->isContextThread())
crypto/subtle/rsassa-pkcs1-v1_5-generate-key-with-leading-zeroes-in-exponent.html [ Skip ]

# Crypto tests that time out:
crypto/subtle/rsassa-pkcs1-v1_5-import-jwk-small-key.html [ Skip ]
crypto/subtle/rsa-oaep-plaintext-length.html [ Skip ] # Timeout, Pass

# Crypto tests that fail:
crypto/subtle/rsa-indexeddb-non-exportable.html [ Failure ]
crypto/subtle/rsa-indexeddb.html [ Failure ]

###
# Temporarily skip all others tests
# We'll un-skip each directory as we land updated/new expected results
##
compositing
css1
css2.1
css3
cssom
editing
fast
fonts
html5lib
http
ietestcenter
imported
indieui
inspector
inspector-obsolete
inspector-protocol
jquery
js
loader
mathml
media
mhtml
pageoverlay
perf
platform
plugins
resources
scrollbars
scrollingcoordinator
security
sputnik
storage
svg
tables
transforms
transitions
traversal
userscripts
webarchive

###
# Mark as passing specific tests in folders that were skipped temporarily above.
##
webkit.org/b/138970 fast/css/line-height-text-autosizing.html [ Pass ]
