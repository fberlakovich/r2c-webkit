<!DOCTYPE html> <!-- webkit-test-runner [ internal:AsyncOverflowScrollingEnabled=true internal:AsyncFrameScrollingEnabled=true ] -->
<html>
<style>
body { touch-action: none; }
</style>
<body onload="test()">
<iframe srcdoc="<body style='height:1000px'>Test</body>"></iframe>
<iframe srcdoc="<body style='height:1000px;touch-action:manipulation'>Test</body>"></iframe>

<pre id="results"></pre>
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.waitUntilDone();
}

function test() {
    if (!window.internals)
        return;
    for (const frame of document.querySelectorAll("iframe")) {
        const doc = frame.contentDocument;
        results.innerText += internals.layerTreeAsText(doc, internals.LAYER_TREE_INCLUDES_EVENT_REGION |  internals.LAYER_TREE_INCLUDES_ROOT_LAYER_PROPERTIES);
    }
    testRunner.notifyDone();
}
</script>
</body>
</html>
