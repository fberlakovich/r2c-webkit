//@ skip

function shouldBe(actual, expected) {
    if (actual !== expected)
        throw new Error('bad value: ' + actual);
}

/*
wasm/calls.wasm is generated by pack-asmjs <https://github.com/WebAssembly/polyfill-prototype-1> from the following script:

function asmModule(global, env, buffer) {
    "use asm";

    function fibonacci(x) {
        x = x | 0;
        if ((x | 0) <= 1)
            return 1;
        return ((fibonacci((x - 1) | 0) | 0) + (fibonacci((x - 2) | 0) | 0)) | 0;
    }

    function gcd(x, y) {
        x = x | 0;
        y = y | 0;
        if (y == 0)
            return x;
        return gcd(y, (x | 0) % (y | 0)) | 0;
    }

    function lcm(x, y) {
        x = x | 0;
        y = y | 0;
        return (((x * y) | 0) / (gcd(x, y) | 0)) | 0;
    }

    return {
        fibonacci: fibonacci,
        gcd: gcd,
        lcm: lcm,
    };
}
*/

var module = loadWebAssembly("wasm/calls.wasm");

shouldBe(module.fibonacci(10), 89);
shouldBe(module.gcd(15, 25), 5);
shouldBe(module.lcm(15, 25), 75);
