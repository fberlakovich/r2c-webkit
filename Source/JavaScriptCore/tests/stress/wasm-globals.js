//@ skip

function shouldBe(actual, expected) {
    if (actual !== expected)
        throw new Error('bad value: ' + actual);
}

/*
wasm/globals.wasm is generated by pack-asmjs <https://github.com/WebAssembly/polyfill-prototype-1> from the following script:

function asmModule(global, env, buffer) {
    "use asm";

    var x = 0;
    var y = 0.0;

    function getX() {
        return x;
    }

    function getY() {
        return y;
    }

    function setX(newX) {
        newX = newX | 0;
        x = newX;
    }

    function setY(newY) {
        newY = +newY;
        y = newY;
    }

    return {
        getX: getX,
        getY: getY,
        setX: setX,
        setY: setY,
    };
}
*/

var module = loadWebAssembly("wasm/globals.wasm");

shouldBe(module.getX(), 0);
shouldBe(module.getY(), 0);

module.setX(1);

shouldBe(module.getX(), 1);
shouldBe(module.getY(), 0);

module.setY(0.5);

shouldBe(module.getX(), 1);
shouldBe(module.getY(), 0.5);
